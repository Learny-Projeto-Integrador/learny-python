WindowManager:
    TelaLogin:
    TelaCadastro:
    TelaSelecionarImagem:
    TelaBemVindo:
    TelaHome:
    TelaPerfil:
    TelaEditarPerfil:
    TelaEditarFotoPerfil:

<TelaLogin>:
    name: "TelaLogin"
    MDFloatLayout:
        # Logo
        Image:
            source: 'assets/imagens/logo-learny.png'
            size_hint: (0.4, 0.2)
            pos_hint: {'center_x': 0.5, 'top': 0.88}

        # Agrupando os Títulos em um BoxLayout
        MDBoxLayout:
            orientation: 'vertical'
            size_hint: 0.8, None  # Ajusta o tamanho horizontal e define altura com base no conteúdo
            height: self.minimum_height
            spacing: 10
            pos_hint: {'center_x': 0.5, 'top': 0.65}

            MDLabel:
                text: "Entre na sua conta\n Learny"
                font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                font_size: "24sp"
                halign: "center"
                theme_text_color: "Custom"
                text_color: (1, 1, 1, 1)
                size_hint_y: None
                height: self.texture_size[1]

            MDLabel:
                text: "Faça login com suas informações de cadastro"
                font_name: "assets/fontes/montserrat/Montserrat-Regular.ttf"
                font_size: "18sp"
                halign: "center"
                theme_text_color: "Custom"
                text_color: (1, 1, 1, 1)
                size_hint_y: None
                height: self.texture_size[1]

        # Campos de texto agrupados em BoxLayout
        MDBoxLayout:
            orientation: 'vertical'
            size_hint: 0.8, None
            height: 80
            spacing: 20
            pos_hint: {'center_x': 0.5, 'top': 0.42}

            MDTextField:
                id: txt_usuario
                mode: "round"
                hint_text: "Usuário"
                helper_text_mode: "persistent"
                icon_left: "account"
                line_color_normal: 1, 1, 1, 1  # Cor da borda quando o campo não está focado (branco)

            MDTextField:
                id: txt_senha
                mode: "round"
                hint_text: "Senha"
                password: True  # Campo de senha
                helper_text_mode: "persistent"
                icon_left: "lock"  # Ícone de cadeado
                line_color_normal: 1, 1, 1, 1  # Cor da borda quando o campo não está focado (branco)

        # Botão Entrar fora do BoxLayout, mas no FloatLayout
        MDIconButton:
            id: btn_entrar
            text: 'Entrar'
            icon: "assets/imagens/icon-confirmar.png"
            icon_size: "45sp"
            pos_hint: {'center_x': 0.5, 'top': 0.30}
            on_press: root.on_enter_button_click()

        # Seção de cadastro agrupada em um BoxLayout
        MDBoxLayout:
            orientation: 'horizontal'
            size_hint: None, None
            size: self.minimum_size
            height: '40dp'
            spacing: 10
            pos_hint: {'center_x': 0.5, 'top': 0.175}

            MDLabel:
                text: "Sem uma conta?"
                font_name: "assets/fontes/montserrat/Montserrat-Regular.ttf"
                font_size: "15sp"
                halign: 'left'
                size_hint_x: None
                width: '150dp'
                theme_text_color: "Custom"
                text_color: (1, 1, 1, 1)

            MDTextButton:
                id: btn_cadastro
                text: "Comece aqui"
                font_name: "assets/fontes/montserrat/Montserrat-Regular.ttf"
                font_size: "15sp"
                size_hint: None, None
                width: 140
                height: 25
                on_press:
                    root.manager.current = "TelaCadastro"
                    root.manager.transition.direction = "left"
                theme_text_color: "Custom"
                text_color: (0, 0, 0, 1)


<TelaCadastro>:
    name: "TelaCadastro"
    MDFloatLayout:

        # Agrupando os Títulos em um BoxLayout
        MDBoxLayout:
            orientation: 'vertical'
            size_hint: 0.8, None  # Ajusta o tamanho horizontal e define altura com base no conteúdo
            height: self.minimum_height
            spacing: 10
            pos_hint: {'center_x': 0.5, 'top': 0.89}

            MDLabel:
                text: "Tela de Cadastro"
                font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                font_size: "24sp"
                halign: "center"
                theme_text_color: "Custom"
                text_color: (1, 1, 1, 1)
                size_hint_y: None
                height: self.texture_size[1]

        MDCard:
            size_hint: (0.33, 0.2)
            pos_hint: {'center_x': 0.5, 'y': 0.61}
            radius: [25, 25, 25, 25]  # Definindo os cantos arredondados
            elevation: 0

            FloatLayout:  # Empilha a imagem e o botão
                FitImage:  # A imagem será colocada primeiro, preenchendo o card
                    id: img_cadastro
                    source: ""
                    size_hint: (1, 1)  # Ocupará todo o espaço do card
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    radius: [25, 25, 25, 25]  # Aplica o arredondamento também na imagem

                Button:
                    id: image_button  # Adicione um id para referenciar esse botão
                    text: "+"  # Texto centralizado com o ícone +
                    font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                    font_size: 50
                    color: (0.93, 0.35, 0.41, 1)  # Cor do texto
                    size_hint: (1, 1)  # O botão vai ocupar 100% do espaço do card
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}  # Centraliza o botão
                    background_normal: ""  # Remove a imagem de fundo
                    background_color: (0, 0, 0, 0)  # Torna o fundo transparente
                    on_press:
                        root.manager.current = "TelaSelecionarImagem"
                        root.manager.transition.direction = "left"

        # Campos de texto agrupados em BoxLayout
        MDBoxLayout:
            orientation: 'vertical'
            size_hint: 0.8, None
            spacing: 20
            pos_hint: {'center_x': 0.5, 'top': 0.41}

            MDTextField:
                id: txt_usuario_cadastro
                mode: "round"
                hint_text: "Usuário"
                helper_text_mode: "persistent"
                line_color_normal: 1, 1, 1, 1  # Cor da borda quando o campo não está focado (branco)

            MDTextField:
                id: txt_senha_cadastro
                mode: "round"
                hint_text: "Senha"
                password: True  # Campo de senha
                helper_text_mode: "persistent"
                line_color_normal: 1, 1, 1, 1  # Cor da borda quando o campo não está focado (branco)
            
            MDTextField:
                id: txt_nome_cadastro
                mode: "round"
                hint_text: "Nome"
                helper_text_mode: "persistent"
                line_color_normal: 1, 1, 1, 1  # Cor da borda quando o campo não está focado (branco)

            
            MDTextField:
                id: txt_data_nasc_cadastro 
                mode: "round"
                hint_text: "Data de nascimento"
                helper_text_mode: "persistent"
                icon_right: "calendar"  # Ícone de calendário
                line_color_normal: 1, 1, 1, 1  # Cor da borda quando o campo não está focado (branco)
                on_focus: if self.focus: app.show_date_picker()  # Exibe o DatePicker ao clicar

        # Botão Cadastrar fora do BoxLayout, mas no FloatLayout
        MDIconButton:
            id: btn_cadastrar
            icon: "assets/imagens/icon-confirmar.png"
            icon_size: "45sp"
            pos_hint: {'center_x': 0.5, 'top': 0.27}
            on_press: root.on_register_button_click()

        # Seção de cadastro agrupada em um BoxLayout
        MDBoxLayout:
            orientation: 'horizontal'
            size_hint: None, None
            size: self.minimum_size
            height: '40dp'
            spacing: 10
            pos_hint: {'center_x': 0.5, 'top': 0.15}

            MDLabel:
                text: "Já possui uma conta?"
                font_name: "assets/fontes/montserrat/Montserrat-Regular.ttf"
                font_size: "15sp"
                halign: 'left'
                size_hint_x: None
                width: '170dp'
                theme_text_color: "Custom"
                text_color: (1, 1, 1, 1)

            MDTextButton:
                id: btn_login
                text: "Entre aqui"
                font_name: "assets/fontes/montserrat/Montserrat-Regular.ttf"
                font_size: "15sp"
                size_hint: None, None
                width: 140
                height: 25
                on_press:
                    root.manager.current = "TelaLogin"
                    root.manager.transition.direction = "right"
                theme_text_color: "Custom"
                text_color: (0, 0, 0, 1)


<TelaSelecionarImagem>:
    id: seletor_imagem
    name: "TelaSelecionarImagem"
    MDFloatLayout:

        # Agrupando os Títulos em um BoxLayout
        MDBoxLayout:
            orientation: 'vertical'
            size_hint: 0.8, None  # Ajusta o tamanho horizontal e define altura com base no conteúdo
            height: self.minimum_height
            spacing: 10
            pos_hint: {'center_x': 0.5, 'top': 0.9}

            MDLabel:
                text: "Selecionar Imagem"
                font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                font_size: "24sp"
                halign: "center"
                theme_text_color: "Custom"
                text_color: (1, 1, 1, 1)
                size_hint_y: None
                height: self.texture_size[1]

        MDCard:
            size_hint: (0.33, 0.2)
            pos_hint: {'center_x': 0.5, 'y': 0.62}
            radius: [25, 25, 25, 25]  # Definindo os cantos arredondados
            elevation: 0
            
            FitImage:  # Utilizamos FitImage para ajustar a imagem ao tamanho do Card
                id: exibe_imagem
                source: ""
                size_hint: (1, 1)  # Ocupará todo o espaço do card
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                radius: [25, 25, 25, 25]  # Aplica o arredondamento também na imagem

        MDBoxLayout:
            orientation: 'vertical'
            size_hint: (0.85, 0.3)
            spacing: 20
            pos_hint: {'center_x': 0.5, 'y': 0.28}

            canvas.before:
                Color:
                    rgba: 0.2, 0.2, 0.2, 0.5  # Cor de fundo (R, G, B, Alpha)
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [20, 20, 20, 20]  # Raio dos cantos (inferior esquerdo, inferior direito, superior direito, superior esquerdo)

            FileChooserIconView:
                id: filechooser
                path: app.desktop_path  # Exemplo de caminho para a pasta de imagens do usuário
                filters: ['*.png', '*.jpg', '*.jpeg']  # Exibir apenas imagens PNG e JPEG
                size_hint: (1, 1)
                on_selection: seletor_imagem.mostrar_imagem(filechooser.selection)
        
        MDRaisedButton:
            text: "Selecionar"
            font_name: "assets/fontes/montserrat/Montserrat-Regular.ttf"
            font_size: 20
            elevation: 0
            size_hint: (None, None)
            width: 180
            height: 45
            pos_hint: {'center_x': 0.5, 'y': 0.19}
            on_press: seletor_imagem.selected(filechooser.selection)
        
        MDRaisedButton:
            text: "Voltar"
            font_name: "assets/fontes/montserrat/Montserrat-Regular.ttf"
            font_size: 20
            elevation: 0
            size_hint: (None, None)
            width: 180
            height: 45
            md_bg_color: (0.5, 0.5, 0.5, 1)  # Cor de fundo do botão
            pos_hint: {'center_x': 0.5, 'y': 0.11}
            on_press:
                root.manager.current = "TelaCadastro"
                root.manager.transition.direction = "right"

<TelaBemVindo>:
    name: "TelaHome"
    FloatLayout:
        Label:
            id: lbl_transicao
            text: ""
            font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
            font_size: 28
            size_hint: (0.5, 0.2)
            halign: "center"
            pos_hint: {'center_x': 0.5, 'y': 0.42}


<TelaHome>:
    name: "TelaHome"
    MDBoxLayout:
        orientation: 'vertical'
        ScrollView:
            size_hint: 1, 1
            GridLayout:
                cols: 1
                size_hint_y: None
                height: self.minimum_height  # Ajusta a altura ao conteúdo
                
                MDBoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: 150  # Ajusta a altura ao conteúdo
                    padding: [40, 40, 40, 0]

                    RelativeLayout:
                        size_hint_y: 1
                        # Adiciona a imagem de fundo
                        Image:
                            source: 'assets/imagens/menu-pontos.png'

                        # Adiciona o rótulo de status sobre a imagem
                        MDLabel:
                            text: "10"
                            font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                            font_size: "20sp"
                            theme_text_color: "Custom"
                            text_color: (0.3, 0.3, 0.3, 1)
                            halign: "center"  # Alinha o texto no centro
                            valign: "middle"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total
                            pos_hint: {"center_x": 0.19, "center_y": 0.5}  # Centraliza na imagem

                        # Adiciona o rótulo de status sobre a imagem
                        MDLabel:
                            text: "10"
                            font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                            font_size: "20sp"
                            theme_text_color: "Custom"
                            text_color: (0.3, 0.3, 0.3, 1)
                            halign: "center"  # Alinha o texto no centro
                            valign: "middle"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total
                            pos_hint: {"center_x": 0.53, "center_y": 0.49}  # Centraliza na imagem

                        # Adiciona o rótulo de status sobre a imagem
                        MDLabel:
                            text: "10"
                            font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                            font_size: "20sp"
                            theme_text_color: "Custom"
                            text_color: (0.3, 0.3, 0.3, 1)
                            halign: "center"  # Alinha o texto no centro
                            valign: "middle"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total
                            pos_hint: {"center_x": 0.88, "center_y": 0.5}  # Centraliza na imagem
                
                MDBoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: 170  # Ajusta a altura ao conteúdo
                    padding: [0, 0, 0, 0]

                    MDLabel:
                        text: "Mundos"
                        font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                        font_size: "25sp"
                        theme_text_color: "Custom"
                        text_color: (1, 1, 1, 1)
                        halign: "center"  # Alinha o texto no centro
                        valign: "middle"  # Alinha verticalmente no meio
                        text_size: self.size  # Permite que o texto use a largura total

                    MDLabel:
                        text: "Escolha um mundo para \n aprender"
                        font_name: "assets/fontes/montserrat/Montserrat-Regular.ttf"
                        font_size: "22sp"
                        theme_text_color: "Custom"
                        text_color: (1, 1, 1, 1)
                        halign: "center"  # Alinha o texto no centro
                        valign: "middle"  # Alinha verticalmente no meio
                        text_size: self.size  # Permite que o texto use a largura total

                # Espaçador
                MDBoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: 75  # Ajusta a altura ao conteúdo

                # Layout mundo 1
                MDBoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: 190  # Ajusta a altura ao conteúdo

                    RelativeLayout:
                        Image:
                            source: 'assets/imagens/fundo-mundo1.png'
                            size_hint: (1, 1)
                            allow_stretch: True  # Permite que a imagem seja esticada para preencher toda a largura
                            keep_ratio: False  # Desativa a proporção fixa para que ela cubra toda a largura
                        
                        MDLabel:
                            text: "Floresta do Dino"
                            font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                            font_size: "16sp"
                            pos_hint: {'center_x': 0.225, 'center_y': 0.78}
                            theme_text_color: "Custom"
                            text_color: (0.4, 0.4, 0.4, 1)
                            halign: "center"  # Alinha o texto no centro
                            valign: "middle"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total

                        MDLabel:
                            text: "Dino's Forest"
                            font_name: "assets/fontes/montserrat/Montserrat-Black.ttf"
                            font_size: "25sp"
                            pos_hint: {'center_x': 0.27, 'center_y': 0.61}
                            theme_text_color: "Custom"
                            text_color: (0.3, 0.3, 0.3, 1)
                            halign: "center"  # Alinha o texto no centro
                            valign: "middle"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total
                        
                        MDLabel:
                            text: "Mundo-1"
                            font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                            font_size: "15sp"
                            pos_hint: {'center_x': 0.13, 'center_y': 0.43}
                            theme_text_color: "Custom"
                            text_color: (0.3, 0.3, 0.3, 1)
                            halign: "center"  # Alinha o texto no centro
                            valign: "middle"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total

                        # Layout para o retângulo com bordas arredondadas
                        MDFloatLayout:
                            canvas.before:
                                Color:
                                    rgba: 1, 1, 1, 1  # Cor de preenchimento do retângulo
                                RoundedRectangle:
                                    size: self.size[0] * 0.78, self.size[1] * 0.14  # Tamanho do retângulo
                                    pos: self.center_x - self.size[0] * 0.45, self.center_y - self.size[1] * 0.35  # Centraliza o retângulo
                                    radius: [5]  # Bordas arredondadas com raio de 10

                        # Retângulo menor (barra de progresso) com ID
                        Widget:
                            id: progresso_barra
                            canvas:
                                Color:
                                    rgba: 0.41, 0.76, 0.25, 1  # Cor do retângulo menor
                                RoundedRectangle:
                                    size: self.size[0] * 0.3, self.size[1] * 0.1  # Ajuste de tamanho do retângulo menor
                                    pos: self.center_x - self.size[0] * 0.44, self.center_y - self.size[1] * 0.328  # Ajuste de posição do retângulo menor
                                    radius: [3]  # Bordas arredondadas
                        
                        MDLabel:
                            text: "35%"
                            font_name: "assets/fontes/montserrat/Montserrat-Black.ttf"
                            font_size: "14sp"
                            pos_hint: {'center_x': 0.76, 'center_y': 0.22}
                            theme_text_color: "Custom"
                            text_color: (0.3, 0.3, 0.3, 1)
                            halign: "center"  # Alinha o texto no centro
                            valign: "middle"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total

                # Layout Mundo 2
                MDBoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: 190  # Ajusta a altura ao conteúdo

                    RelativeLayout:
                        Image:
                            source: 'assets/imagens/fundo-mundo2.png'
                            size_hint: (1, 1)
                            allow_stretch: True  # Permite que a imagem seja esticada para preencher toda a largura
                            keep_ratio: False  # Desativa a proporção fixa para que ela cubra toda a largura
                        
                        MDLabel:
                            text: "Mundo quebra-cabeça"
                            font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                            font_size: "16sp"
                            pos_hint: {'center_x': 0.29, 'center_y': 0.78}
                            theme_text_color: "Custom"
                            text_color: (0.4, 0.4, 0.4, 1)
                            halign: "center"  # Alinha o texto no centro
                            valign: "middle"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total

                        MDLabel:
                            text: "Jigsaw World"
                            font_name: "assets/fontes/montserrat/Montserrat-Black.ttf"
                            font_size: "25sp"
                            pos_hint: {'center_x': 0.28, 'center_y': 0.61}
                            theme_text_color: "Custom"
                            text_color: (0.3, 0.3, 0.3, 1)
                            halign: "center"  # Alinha o texto no centro
                            valign: "middle"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total
                        
                        MDLabel:
                            text: "Mundo-2"
                            font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                            font_size: "15sp"
                            pos_hint: {'center_x': 0.13, 'center_y': 0.43}
                            theme_text_color: "Custom"
                            text_color: (0.3, 0.3, 0.3, 1)
                            halign: "center"  # Alinha o texto no centro
                            valign: "middle"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total

                        # Layout para o retângulo com bordas arredondadas
                        MDFloatLayout:
                            canvas.before:
                                Color:
                                    rgba: 1, 1, 1, 1  # Cor de preenchimento do retângulo
                                RoundedRectangle:
                                    size: self.size[0] * 0.78, self.size[1] * 0.14  # Tamanho do retângulo
                                    pos: self.center_x - self.size[0] * 0.45, self.center_y - self.size[1] * 0.35  # Centraliza o retângulo
                                    radius: [5]  # Bordas arredondadas com raio de 10

                        # Retângulo menor (barra de progresso) com ID
                        Widget:
                            id: progresso_barra
                            canvas:
                                Color:
                                    rgba: 0.27, 0.73, 0.93, 1  # Cor do retângulo menor
                                RoundedRectangle:
                                    size: self.size[0] * 0.3, self.size[1] * 0.1  # Ajuste de tamanho do retângulo menor
                                    pos: self.center_x - self.size[0] * 0.44, self.center_y - self.size[1] * 0.328  # Ajuste de posição do retângulo menor
                                    radius: [3]  # Bordas arredondadas
                        
                        MDLabel:
                            text: "35%"
                            font_name: "assets/fontes/montserrat/Montserrat-Black.ttf"
                            font_size: "14sp"
                            pos_hint: {'center_x': 0.76, 'center_y': 0.22}
                            theme_text_color: "Custom"
                            text_color: (0.3, 0.3, 0.3, 1)
                            halign: "center"  # Alinha o texto no centro
                            valign: "middle"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total

                # Layout Mundo 3
                MDBoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: 190  # Ajusta a altura ao conteúdo

                    RelativeLayout:
                        Image:
                            source: 'assets/imagens/fundo-mundo3.png'
                            size_hint: (1, 1)
                            allow_stretch: True  # Permite que a imagem seja esticada para preencher toda a largura
                            keep_ratio: False  # Desativa a proporção fixa para que ela cubra toda a largura
                        
                        MDLabel:
                            text: "Reino Espacial"
                            font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                            font_size: "16sp"
                            pos_hint: {'center_x': 0.205, 'center_y': 0.78}
                            theme_text_color: "Custom"
                            text_color: (0.4, 0.4, 0.4, 1)
                            halign: "center"  # Alinha o texto no centro
                            valign: "middle"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total

                        MDLabel:
                            text: "Space Realm"
                            font_name: "assets/fontes/montserrat/Montserrat-Black.ttf"
                            font_size: "25sp"
                            pos_hint: {'center_x': 0.265, 'center_y': 0.61}
                            theme_text_color: "Custom"
                            text_color: (0.3, 0.3, 0.3, 1)
                            halign: "center"  # Alinha o texto no centro
                            valign: "middle"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total
                        
                        MDLabel:
                            text: "Mundo-3"
                            font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                            font_size: "15sp"
                            pos_hint: {'center_x': 0.13, 'center_y': 0.43}
                            theme_text_color: "Custom"
                            text_color: (0.3, 0.3, 0.3, 1)
                            halign: "center"  # Alinha o texto no centro
                            valign: "middle"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total

                        # Layout para o retângulo com bordas arredondadas
                        MDFloatLayout:
                            canvas.before:
                                Color:
                                    rgba: 1, 1, 1, 1  # Cor de preenchimento do retângulo
                                RoundedRectangle:
                                    size: self.size[0] * 0.78, self.size[1] * 0.14  # Tamanho do retângulo
                                    pos: self.center_x - self.size[0] * 0.45, self.center_y - self.size[1] * 0.35  # Centraliza o retângulo
                                    radius: [5]  # Bordas arredondadas com raio de 10

                        # Retângulo menor (barra de progresso) com ID
                        Widget:
                            id: progresso_barra
                            canvas:
                                Color:
                                    rgba: 0.69, 0.37, 0.76, 1  # Cor do retângulo menor
                                RoundedRectangle:
                                    size: self.size[0] * 0.3, self.size[1] * 0.1  # Ajuste de tamanho do retângulo menor
                                    pos: self.center_x - self.size[0] * 0.44, self.center_y - self.size[1] * 0.328  # Ajuste de posição do retângulo menor
                                    radius: [3]  # Bordas arredondadas
                        
                        MDLabel:
                            text: "35%"
                            font_name: "assets/fontes/montserrat/Montserrat-Black.ttf"
                            font_size: "14sp"
                            pos_hint: {'center_x': 0.76, 'center_y': 0.22}
                            theme_text_color: "Custom"
                            text_color: (0.3, 0.3, 0.3, 1)
                            halign: "center"  # Alinha o texto no centro
                            valign: "middle"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total

                # Layout Mundo 4
                MDBoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: 190  # Ajusta a altura ao conteúdo

                    RelativeLayout:
                        Image:
                            source: 'assets/imagens/fundo-mundo4.png'
                            size_hint: (1, 1)
                            allow_stretch: True  # Permite que a imagem seja esticada para preencher toda a largura
                            keep_ratio: False  # Desativa a proporção fixa para que ela cubra toda a largura
                        
                        MDLabel:
                            text: "Festa Pop"
                            font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                            font_size: "16sp"
                            pos_hint: {'center_x': 0.168, 'center_y': 0.78}
                            theme_text_color: "Custom"
                            text_color: (0.4, 0.4, 0.4, 1)
                            halign: "center"  # Alinha o texto no centro
                            valign: "middle"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total

                        MDLabel:
                            text: "Pop Party"
                            font_name: "assets/fontes/montserrat/Montserrat-Black.ttf"
                            font_size: "25sp"
                            pos_hint: {'center_x': 0.225, 'center_y': 0.61}
                            theme_text_color: "Custom"
                            text_color: (0.3, 0.3, 0.3, 1)
                            halign: "center"  # Alinha o texto no centro
                            valign: "middle"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total
                        
                        MDLabel:
                            text: "Mundo-4"
                            font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                            font_size: "15sp"
                            pos_hint: {'center_x': 0.14, 'center_y': 0.43}
                            theme_text_color: "Custom"
                            text_color: (0.3, 0.3, 0.3, 1)
                            halign: "center"  # Alinha o texto no centro
                            valign: "middle"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total

                        # Layout para o retângulo com bordas arredondadas
                        MDFloatLayout:
                            canvas.before:
                                Color:
                                    rgba: 1, 1, 1, 1  # Cor de preenchimento do retângulo
                                RoundedRectangle:
                                    size: self.size[0] * 0.78, self.size[1] * 0.14  # Tamanho do retângulo
                                    pos: self.center_x - self.size[0] * 0.45, self.center_y - self.size[1] * 0.35  # Centraliza o retângulo
                                    radius: [5]  # Bordas arredondadas com raio de 10

                        # Retângulo menor (barra de progresso) com ID
                        Widget:
                            id: progresso_barra
                            canvas:
                                Color:
                                    rgba: 0.83, 0.26, 0.32, 1  # Cor do retângulo menor
                                RoundedRectangle:
                                    size: self.size[0] * 0.3, self.size[1] * 0.1  # Ajuste de tamanho do retângulo menor
                                    pos: self.center_x - self.size[0] * 0.44, self.center_y - self.size[1] * 0.328  # Ajuste de posição do retângulo menor
                                    radius: [3]  # Bordas arredondadas
                        
                        MDLabel:
                            text: "35%"
                            font_name: "assets/fontes/montserrat/Montserrat-Black.ttf"
                            font_size: "14sp"
                            pos_hint: {'center_x': 0.76, 'center_y': 0.22}
                            theme_text_color: "Custom"
                            text_color: (0.3, 0.3, 0.3, 1)
                            halign: "center"  # Alinha o texto no centro
                            valign: "middle"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total
           
        # Menu inferior fixo
        MDFloatLayout:
            size_hint_y: None
            height: 70

            canvas.before:
                Color:
                    rgba: 0.3, 0.3, 0.3, 1
                RoundedRectangle:
                    pos: self.pos[0], self.pos[1]
                    size: self.size[0], 70
                    radius: [30, 30, 0, 0]

            # Botões do menu inferior
            MDIconButton:
                icon: "assets/imagens/icon-perfil2.png"
                icon_size: "55sp"
                pos_hint: {'center_x': 0.2, 'center_y': 0.7}
                on_press:
                    root.manager.current = "TelaPerfil"
                    root.manager.transition.direction = "left"

            MDIconButton:
                icon: "assets/imagens/icon-home.png"
                icon_size: "65sp"
                pos_hint: {'center_x': 0.5, 'center_y': 0.75}

            MDIconButton:
                icon: "assets/imagens/icon-menu-hamburguer.png"
                icon_size: "55sp"
                pos_hint: {'center_x': 0.8, 'center_y': 0.7}
                    

<TelaPerfil>:
    name: "TelaPerfil"
    ScrollView:
        size_hint: 1, 1
        GridLayout:
            cols: 1
            size_hint_y: None
            height: self.minimum_height  # Ajusta a altura ao conteúdo
            
            MDBoxLayout:
                orientation: 'horizontal'
                size_hint_y: None
                height: 230  # Ajusta a altura ao conteúdo
                padding: [25, 0, 25, 0]

                MDCard:
                    size_hint: (None, None)
                    width: 180
                    height: 180
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    radius: [25, 25, 25, 25]  # Definindo os cantos arredondados
                    elevation: 0
                        
                    FitImage:  # Utilizamos FitImage para ajustar a imagem ao tamanho do Card
                        id: foto_perfil
                        source: "assets/imagens/fotos-criancas/joana.jpg"
                        radius: [25, 25, 25, 25]  # Aplica o arredondamento também na imagem

                MDBoxLayout:
                    orientation: 'vertical'
                    size_hint_y: 1

                    MDLabel:
                        text: "Joana"
                        font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                        font_size: "28sp"
                        theme_text_color: "Custom"
                        text_color: (0.3, 0.3, 0.3, 1)
                        halign: "center"  # Alinha o texto no centro
                        valign: "bottom"  # Alinha verticalmente no meio
                        text_size: self.size  # Permite que o texto use a largura total
                    
                    MDBoxLayout:
                        orientation: 'horizontal'
                        MDLabel:
                            text: "Lv."
                            font_name: "assets/fontes/montserrat/Montserrat-Regular.ttf"
                            font_size: "18sp"
                            theme_text_color: "Custom"
                            text_color: (0.3, 0.3, 0.3, 1)
                            size_hint_x: 0.7
                            halign: "right"  # Alinha o texto no centro
                            valign: "top"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total
                            padding: [0, 2, 10, 0]

                        MDLabel:
                            id: lbl_nivel
                            text: "100"
                            font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                            font_size: "20sp"
                            theme_text_color: "Custom"
                            text_color: (0.3, 0.3, 0.3, 1)
                            halign: "left"  # Alinha o texto no centro
                            valign: "top"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total

                MDIconButton:
                    id: btn_voltar
                    icon: "assets/imagens/icon-voltar.png"
                    icon_size: "35sp"
                    pos_hint: {'center_x': 0.8, 'center_y': 0.75}
                    on_press:
                        root.manager.current = "TelaHome"
                        root.manager.transition.direction = "right"

            MDBoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: 60  # Ajusta a altura ao conteúdo
                padding: [25, 5, 25, 5]

                # Layout para o retângulo com contorno e bordas arredondadas
                MDBoxLayout:
                    orientation: 'vertical'  # Mude para 'horizontal' se preferir empilhar horizontalmente

                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [15]  # Bordas arredondadas para o "contorno"
                            source: 'assets/imagens/fundo-gradiente3.png'  # Imagem com gradiente

                        Color:
                            rgba: 1, 1, 1, 1  # Cor de preenchimento do retângulo
                        RoundedRectangle:
                            size: (self.size[0] - 10, self.size[1] - 10)  # Ajuste o valor conforme necessário
                            pos: (self.x + 5, self.y + 5)  # Define a posição do retângulo interno
                            radius: [10]  # Bordas arredondadas com raio de 10

                        Color:
                            rgba: 1, 1, 1, 1  # Cor de preenchimento do retângulo
                        RoundedRectangle:
                            size: (self.size[0] - 20, self.size[1] - 20)  # Ajuste o valor conforme necessário
                            pos: (self.x + 10, self.y + 10)  # Define a posição do retângulo interno
                            radius: [5]  # Bordas arredondadas com raio de 10
                            source: 'assets/imagens/fundo-gradiente3.png'  # Imagem com gradiente
                    
                    MDBoxLayout:
                        orientation: 'horizontal'
                        MDLabel:
                            text: "EXP:"
                            font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                            font_size: "14sp"
                            halign: "right"  # Alinha o texto no centro
                            valign: "middle"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total
                            size_hint_x: 0.18
                            size_hint_y: 1
                            pos_hint: {'center_x': 0.1, 'center_y': 0.5}  # Centraliza o texto dentro do layout
                            theme_text_color: "Custom"
                            text_color: (1, 1, 1, 1)

                        MDLabel:
                            text: "100"
                            font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                            font_size: "14sp"
                            halign: "left"  # Alinha o texto no centro
                            valign: "middle"  # Alinha verticalmente no meio
                            text_size: self.size  # Permite que o texto use a largura total
                            size_hint_y: 1
                            padding: [15,0,0,0]
                            pos_hint: {'center_x': 0.2, 'center_y': 0.5}  # Centraliza o texto dentro do layout
                            theme_text_color: "Custom"
                            text_color: (1, 1, 1, 1)

            
            MDBoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: 295
                padding: [30,15,30,10]
                MDBoxLayout:
                    orientation: 'vertical'
                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [50]  # Bordas arredondadas com raio de 10
                            source: 'assets/imagens/fundo-sombra.png'  # Imagem com gradiente

                        Color:
                            rgba: 1, 1, 1, 1
                        RoundedRectangle:
                            pos: (self.x + 10, self.y + 15)
                            size: (self.size[0] - 20, self.size[1] - 30)
                            radius: [25]  # Bordas arredondadas com raio de 10
                    
                    Widget:
                        size_hint_y: None
                        height: 15

                    # BoxLayout Horizontal 1: Acessibilidade
                    MDBoxLayout:
                        orientation: 'horizontal'
                        size_hint_y: None
                        height: 60
                        padding: [40, 0, 0, 0]
                        spacing: 10  # Ajuste de espaçamento entre elementos

                        Image:
                            source: 'assets/imagens/icon-acesibilidade.png'
                            size_hint: None, None
                            size: 40, 40
                            pos_hint: {'center_y': 0.5}
                            allow_stretch: True

                        MDLabel:
                            text: "Acessibilidade"
                            font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                            font_size: "18sp"
                            halign: "left"
                            valign: "middle"
                            text_size: self.size
                            size_hint_x: 1  # Controle para a largura
                            padding: [10, 0]

                    Widget:
                        size_hint_y: None
                        height: 15

                    # BoxLayout Horizontal 2: Desativar Áudio
                    MDBoxLayout:
                        orientation: 'horizontal'
                        size_hint_y: None
                        height: 60
                        padding: [40, 0, 40, 0]

                        MDLabel:
                            size_hint_x: 0.6  # Reduz a largura da label para deixar espaço para o switch
                            text: "Desativar Áudio"
                            font_name: "assets/fontes/montserrat/Montserrat-Regular.ttf"
                            font_size: "16sp"
                            halign: "left"
                            valign: "middle"
                            text_size: self.size
                            padding: [10, 0]

                        MDSwitch:
                            size_hint_x: 0.15  # Define a largura do switch para ocupar o espaço restante
                            pos_hint: {"center_y": 0.3}  # Centraliza verticalmente o switch
                            on_active: root.on_switch_active(*args)

                        Widget: 
                            size_hint_x: 0.25
                    
                    Widget:
                        size_hint_y: None
                        height: 10

                    # BoxLayout Horizontal 3: Mudar Cores
                    MDBoxLayout:
                        orientation: 'horizontal'
                        size_hint_y: None
                        height: 60
                        padding: [40, 0, 40, 0]

                        MDLabel:
                            size_hint_x: 0.6  # Reduz a largura da label para deixar espaço para o switch
                            text: "Mudar Cores"
                            font_name: "assets/fontes/montserrat/Montserrat-Regular.ttf"
                            font_size: "16sp"
                            halign: "left"
                            valign: "middle"
                            text_size: self.size
                            padding: [10, 0]

                        MDSwitch:
                            size_hint_x: 0.15  # Define a largura do switch para ocupar o espaço restante
                            pos_hint: {"center_y": 0.3}  # Centraliza verticalmente o switch
                            on_active: root.on_switch_active(*args)

                        Widget: 
                            size_hint_x: 0.25
                    
                    Widget:
                        size_hint_y: None
                        height: 40

            MDBoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: 140
                padding: [30,0,30,10]
                MDBoxLayout:
                    orientation: 'vertical'
                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [50]  # Bordas arredondadas com raio de 10
                            source: 'assets/imagens/fundo-sombra.png'  # Imagem com gradiente

                        Color:
                            rgba: 1, 1, 1, 1
                        RoundedRectangle:
                            pos: (self.x + 10, self.y + 11)
                            size: (self.size[0] - 20, self.size[1] - 20)
                            radius: [25]  # Bordas arredondadas com raio de 10

                    # BoxLayout Horizontal 1: Estatísticas
                    MDBoxLayout:
                        orientation: 'horizontal'
                        size_hint_y: None
                        height: 130
                        padding: [40, 0, 0, 0]
                        spacing: 10  # Ajuste de espaçamento entre elementos

                        Image:
                            source: 'assets/imagens/icon-estatisticas.png'
                            size_hint: None, None
                            size: 50, 50
                            pos_hint: {'center_y': 0.5}
                            allow_stretch: True

                        MDLabel:
                            text: "Estatísticas"
                            font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                            font_size: "18sp"
                            halign: "left"
                            valign: "middle"
                            text_size: self.size
                            size_hint_x: 1  # Controle para a largura
                            padding: [10, 0]

            MDBoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: 140
                padding: [30,0,30,10]
                MDBoxLayout:
                    orientation: 'vertical'
                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [50]  # Bordas arredondadas com raio de 10
                            source: 'assets/imagens/fundo-sombra.png'  # Imagem com gradiente

                        Color:
                            rgba: 1, 1, 1, 1
                        RoundedRectangle:
                            pos: (self.x + 10, self.y + 11)
                            size: (self.size[0] - 20, self.size[1] - 20)
                            radius: [25]  # Bordas arredondadas com raio de 10

                    # BoxLayout Horizontal 1: Estatísticas
                    MDBoxLayout:
                        orientation: 'horizontal'
                        size_hint_y: None
                        height: 130
                        padding: [40, 0, 0, 0]
                        spacing: 10  # Ajuste de espaçamento entre elementos

                        Image:
                            source: 'assets/imagens/icon-sino.png'
                            size_hint: None, None
                            size: 50, 50
                            pos_hint: {'center_y': 0.5}
                            allow_stretch: True

                        MDLabel:
                            text: "Notificações"
                            font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                            font_size: "18sp"
                            halign: "left"
                            valign: "middle"
                            text_size: self.size
                            size_hint_x: 1  # Controle para a largura
                            padding: [10, 0]

            MDBoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: 140
                padding: [30,0,30,10]
                MDBoxLayout:
                    orientation: 'vertical'
                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [50]  # Bordas arredondadas com raio de 10
                            source: 'assets/imagens/fundo-sombra.png'  # Imagem com gradiente

                        Color:
                            rgba: 1, 1, 1, 1
                        RoundedRectangle:
                            pos: (self.x + 10, self.y + 11)
                            size: (self.size[0] - 20, self.size[1] - 20)
                            radius: [25]  # Bordas arredondadas com raio de 10

                    # BoxLayout Horizontal 1: Estatísticas
                    MDBoxLayout:
                        orientation: 'horizontal'
                        size_hint_y: None
                        height: 130
                        padding: [40, 0, 0, 0]
                        spacing: 10  # Ajuste de espaçamento entre elementos

                        Image:
                            source: 'assets/imagens/icon-edit.png'
                            size_hint: None, None
                            size: 50, 50
                            pos_hint: {'center_y': 0.5}
                            allow_stretch: True

                        MDLabel:
                            text: "Editar Perfil"
                            font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                            font_size: "18sp"
                            halign: "left"
                            valign: "middle"
                            text_size: self.size
                            size_hint_x: 1  # Controle para a largura
                            padding: [10, 0]
                        
                        # Usando um botão invisível
                        Button:
                            size_hint: 1, 1
                            background_color: (0, 0, 0, 0)  # Torna o botão invisível
                            on_release:
                                root.manager.current = "TelaEditarPerfil"
                                root.manager.transition.direction = "left"

            MDBoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height  # Ajusta a altura automaticamente ao conteúdo

                # Botão Entrar fora do BoxLayout, mas no FloatLayout
                MDIconButton:
                    id: btn_perfil
                    icon: "assets/imagens/btn-sair.png"
                    icon_size: "80sp"
                    pos_hint: {'center_x': 0.5}
                    on_press:
                        root.manager.current = "TelaLogin"
                        root.manager.transition.direction = "left"

<TelaEditarPerfil>:
    name: "TelaEditarPerfil"
    MDFloatLayout:
        # Agrupando os Títulos em um BoxLayout
        MDBoxLayout:
            orientation: 'vertical'
            size_hint: 0.8, None  # Ajusta o tamanho horizontal e define altura com base no conteúdo
            height: self.minimum_height
            spacing: 10
            pos_hint: {'center_x': 0.5, 'top': 0.85}

            MDLabel:
                text: "Editar Perfil"
                font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                font_size: "24sp"
                halign: "center"
                theme_text_color: "Custom"
                text_color: (1, 1, 1, 1)
                size_hint_y: None
                height: self.texture_size[1]

        MDCard:
            size_hint: (0.33, 0.2)
            pos_hint: {'center_x': 0.5, 'y': 0.57}
            radius: [25, 25, 25, 25]  # Definindo os cantos arredondados
            elevation: 0

            FloatLayout:  # Empilha a imagem e o botão
                FitImage:  # A imagem será colocada primeiro, preenchendo o card
                    id: img_cadastro
                    source: ""
                    size_hint: (1, 1)  # Ocupará todo o espaço do card
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    radius: [25, 25, 25, 25]  # Aplica o arredondamento também na imagem

                Button:
                    id: image_button  # Adicione um id para referenciar esse botão
                    text: "+"  # Texto centralizado com o ícone +
                    font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                    font_size: 50
                    color: (0.93, 0.35, 0.41, 1)  # Cor do texto
                    size_hint: (1, 1)  # O botão vai ocupar 100% do espaço do card
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}  # Centraliza o botão
                    background_normal: ""  # Remove a imagem de fundo
                    background_color: (0, 0, 0, 0)  # Torna o fundo transparente
                    on_press:
                        root.manager.current = "TelaEditarFotoPerfil"
                        root.manager.transition.direction = "left"

        # Campos de texto agrupados em BoxLayout
        MDBoxLayout:
            orientation: 'vertical'
            size_hint: 0.8, None
            spacing: 20
            pos_hint: {'center_x': 0.5, 'top': 0.37}

            MDTextField:
                id: txt_usuario_cadastro
                mode: "round"
                hint_text: "Usuário"
                helper_text_mode: "persistent"
                line_color_normal: 1, 1, 1, 1  # Cor da borda quando o campo não está focado (branco)

            MDTextField:
                id: txt_senha_cadastro
                mode: "round"
                hint_text: "Senha"
                password: True  # Campo de senha
                helper_text_mode: "persistent"
                line_color_normal: 1, 1, 1, 1  # Cor da borda quando o campo não está focado (branco)
            
            MDTextField:
                id: txt_nome_cadastro
                mode: "round"
                hint_text: "Nome"
                helper_text_mode: "persistent"
                line_color_normal: 1, 1, 1, 1  # Cor da borda quando o campo não está focado (branco)

            MDTextField:
                id: txt_data_nasc_cadastro 
                mode: "round"
                hint_text: "Data de nascimento"
                helper_text_mode: "persistent"
                icon_right: "calendar"  # Ícone de calendário
                line_color_normal: 1, 1, 1, 1  # Cor da borda quando o campo não está focado (branco)
                on_focus: if self.focus: app.show_date_picker()  # Exibe o DatePicker ao clicar

        # Botão Entrar fora do BoxLayout, mas no FloatLayout
        MDIconButton:
            id: btn_editar_perfil
            icon: "assets/imagens/icon-confirmar.png"
            icon_size: "45sp"
            pos_hint: {'center_x': 0.5, 'top': 0.23}
            on_press: root.on_edit_button_click()

        # Seção de cadastro agrupada em um BoxLayout
        MDBoxLayout:
            orientation: 'horizontal'
            size_hint: None, None
            size: self.minimum_size
            height: '40dp'
            spacing: 10
            pos_hint: {'center_x': 0.5, 'top': 0.15}


<TelaEditarFotoPerfil>:
    id: editor_imagem
    name: "TelaEditarFotoPerfil"
    MDFloatLayout:
        # Agrupando os Títulos em um BoxLayout
        MDBoxLayout:
            orientation: 'vertical'
            size_hint: 0.8, None  # Ajusta o tamanho horizontal e define altura com base no conteúdo
            height: self.minimum_height
            spacing: 10
            pos_hint: {'center_x': 0.5, 'top': 0.9}

            MDLabel:
                text: "Selecionar Imagem"
                font_name: "assets/fontes/montserrat/Montserrat-Bold.ttf"
                font_size: "24sp"
                halign: "center"
                theme_text_color: "Custom"
                text_color: (1, 1, 1, 1)
                size_hint_y: None
                height: self.texture_size[1]

        MDCard:
            size_hint: (0.33, 0.2)
            pos_hint: {'center_x': 0.5, 'y': 0.62}
            radius: [25, 25, 25, 25]  # Definindo os cantos arredondados
            elevation: 0
            
            FitImage:  # Utilizamos FitImage para ajustar a imagem ao tamanho do Card
                id: exibe_imagem
                source: ""
                size_hint: (1, 1)  # Ocupará todo o espaço do card
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                radius: [25, 25, 25, 25]  # Aplica o arredondamento também na imagem

        MDBoxLayout:
            orientation: 'vertical'
            size_hint: (0.85, 0.3)
            spacing: 20
            pos_hint: {'center_x': 0.5, 'y': 0.28}

            canvas.before:
                Color:
                    rgba: 0.2, 0.2, 0.2, 0.5  # Cor de fundo (R, G, B, Alpha)
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [20, 20, 20, 20]  # Raio dos cantos (inferior esquerdo, inferior direito, superior direito, superior esquerdo)

            FileChooserIconView:
                id: filechooser
                path: app.desktop_path  # Exemplo de caminho para a pasta de imagens do usuário
                filters: ['*.png', '*.jpg', '*.jpeg']  # Exibir apenas imagens PNG e JPEG
                size_hint: (1, 1)
                on_selection: seletor_imagem.mostrar_imagem(filechooser.selection)
        
        MDRaisedButton:
            text: "Selecionar"
            font_name: "assets/fontes/montserrat/Montserrat-Regular.ttf"
            font_size: 20
            elevation: 0
            size_hint: (None, None)
            width: 180
            height: 45
            pos_hint: {'center_x': 0.5, 'y': 0.19}
            on_press: editor_imagem.selected(filechooser.selection)
        
        MDRaisedButton:
            text: "Voltar"
            font_name: "assets/fontes/montserrat/Montserrat-Regular.ttf"
            font_size: 20
            elevation: 0
            size_hint: (None, None)
            width: 180
            height: 45
            md_bg_color: (0.5, 0.5, 0.5, 1)  # Cor de fundo do botão
            pos_hint: {'center_x': 0.5, 'y': 0.11}
            on_press:
                root.manager.current = "TelaEditarPerfil"
                root.manager.transition.direction = "right"